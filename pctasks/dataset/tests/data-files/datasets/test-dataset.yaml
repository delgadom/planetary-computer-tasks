name: dataset-test
image: mock:latest

args:
  - test_dir
  - sas_token

collections:
  - id: test-dataset
    class: tests.collection:TestCollection
    asset_storage:
      - storage_account: devstoreaccount1
        container: test-data
        prefix: ${{ args.test_prefix }}
        sas_token: ${{ args.sas_token }}
        chunks:
          length: 3000
          ext: "*.tif"
          splits:
            - depth: 2
              name_starts_with: v002
    chunk_storage:
      storage_account: devstoreaccount1
      container: test-data
      prefix: ${{ args.test_prefix }}/chunks/assets
    item_storage:
      storage_account: devstoreaccount1
      container: naip-etl-data
      prefix: ${{ args.test_prefix }}/chunks/items
